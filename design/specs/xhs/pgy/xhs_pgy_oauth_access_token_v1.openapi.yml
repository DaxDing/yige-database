openapi: 3.0.3
info:
  title: 蒲公英 OAuth 换取 Access Token
  version: 1.0.0
  x-api-id: xhs.pgy.oauth.access_token.v1
  x-category: oauth
servers:
- url: https://adapi.xiaohongshu.com
paths:
  /api/open/oauth2/access_token:
    post:
      summary: 蒲公英 OAuth 换取 Access Token
      operationId: xhs_pgy_oauth_access_token_v1
      tags:
      - oauth
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
      x-notes: 使用蒲公英应用颁发的 auth_code 换取 access_token、refresh_token 和广告主信息；auth_code 有效期为 10 分钟。
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                app_id:
                  type: string
                  x-source:
                    type: env
                    name: XHS_PGY_APP_ID
                secret:
                  type: string
                  x-source:
                    type: env
                    name: XHS_PGY_APP_SECRET
                auth_code:
                  type: string
                  x-source:
                    type: var
                    name: auth_code
              required:
              - app_id
              - secret
              - auth_code
            example:
              app_id: <env:XHS_PGY_APP_ID>
              secret: <env:XHS_PGY_APP_SECRET>
              auth_code: <var:auth_code>
